(window.webpackJsonp=window.webpackJsonp||[]).push([["login"],{"206d":function(e,r,t){"use strict";var n=t("4413");t.n(n).a},"2fa7":function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var n=t("85d3"),o=t.n(n);function s(e,r,t){return r in e?o()(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}},4413:function(e,r,t){},"85d3":function(e,r,t){e.exports=t("9a13")},a55b:function(e,r,t){"use strict";t.r(r);t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("d3b7"),t("ac1f"),t("5319"),t("159b"),t("96cf");var n=t("2fa7"),o=t("5880"),s=t("f8c8");function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var u={data:function(){return{ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]}}},methods:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(t,!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(o.mapMutations)(["setUserInfo","setToken"]),{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;r.login()}))},register:function(e){this.$router.push("/register")},login:function(){var e,r,t,n,o,a,u,i;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=this.ruleForm,r=e.username,t=e.password,n={username:r,password:t},c.next=4,regeneratorRuntime.awrap(Object(s.a)(n));case 4:if(200!==(o=c.sent).data.code){c.next=12;break}return a=o.data.data,u=a.token,a.info,this.setToken(u),c.next=10,regeneratorRuntime.awrap(Object(s.c)());case 10:200===c.sent.data.code&&(i=o.data.data,this.setUserInfo(i),this.$router.replace("/"));case 12:case"end":return c.stop()}}),null,this)}})},i=(t("206d"),t("2877")),c=Object(i.a)(u,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[t("div",{staticClass:"login-input-box"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off","show-password":""},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录")]),t("el-button",{on:{click:e.register}},[e._v("注册")])],1)],1)],1)])}),[],!1,null,null,null);r.default=c.exports},f8c8:function(e,r,t){"use strict";var n=t("cebe"),o=t.n(n);function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return"post"===(t=t.toLowerCase())?o.a.post(e,r):"get"===t?o.a.get(e,{params:r}):"delete"===t?o.a.delete(e,r):"put"===t?o.a.put(e,r):(console.error("未知的method"+t),!1)}t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return u})),t.d(r,"c",(function(){return i}));var a=function(e){return s("/login",e,"post")},u=function(e){return s("/register",e,"post")},i=function(e){return s("/user/info",e,"get")}}}]);